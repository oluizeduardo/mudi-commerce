<!DOCTYPE html>
<html>
	
	<head th:replace="~{base::head}"></head>
	<title>Mudi | New Offer</title>
	
	<body class="bg-info text-dark bg-opacity-10">
		
		<div th:replace="~{base.html::logo}"></div>
	
		<div class="container">
	
			<div th:replace="~{base.html::title('New Offer')}"></div>
			
			<div class="card mb-3">
				<form class="card-body" th:object="${newOfferRequest}" action="/offer/newOffer" method="POST">
					<legend>Describe the product you want to sell</legend>
					
					<div class="row">
						<div class="mb-3 col-md-8">
							<label class="form-label" for="productName">Product</label>
							<input th:field="*{productName}" class="form-control" th:errorclass="is-invalid" placeholder="Product's name" required/>
							<small>Inform the product's name.</small>
							<div class="invalid-feedback" th:errors="*{productName}"> </div>
						</div>
						
						<div class="mb-3 col-md-4">
							<label class="form-label" for="productprice">Price</label>
							<input th:field="*{productPrice}" 
									class="form-control" 
									th:errorclass="is-invalid" 
									placeholder="Product's price" 
									required 
									data-inputmask-regex="R$ [0-9]+(\.[0-9]{2})"
									/>
									 
							<small>Inform the charged price.</small>
							<div class="invalid-feedback" th:errors="*{productPrice}"> </div>
						</div>
					</div>
					
					<div class="row">
						<div class="mb-3 col-md-6">
							<label class="form-label" for="productUrl">Url</label>
							<input th:field="*{productUrl}" type="url" class="form-control" th:errorclass="is-invalid" placeholder="Product's url" required/>
							<small>Paste here the url to the product you want.</small>
							<div class="invalid-feedback" th:errors="*{productUrl}"> </div>
						</div>
						
						<div class="mb-3 col-md-6">
							<label class="form-label" for="productUrl">Image</label>
							<input th:field="*{productImageUrl}" class="form-control" th:errorclass="is-invalid" placeholder="Image" required/>
							<small>Paste here a link of a good image of the product you want.</small>
							<div class="invalid-feedback" th:errors="*{productImageUrl}"> </div>
						</div>
					</div>
					
					<div class="mb-3">
						<label class="form-label" for="description">Description</label>
						
						<div class="form-floating">
							<textarea maxlength="500" 
									onkeyup="countChars(this);"
						  			th:field="*{description}"  
						  			class="form-control" 
						  			placeholder="Leave a comment here" 
						  			id="floatingTextarea" 
						  			style="height: 100px"></textarea>
						  	<small class="pull-right label label-default" id="count_description">0/500</small>
						  	
							<label for="floatingTextarea">Product's description</label>
						</div>
					</div>					
					<button class="btn btn-primary mt-3" type="submit">Save</button>
				</form>
			</div>
		</div>
		<script type="text/javascript">
			function countChars(obj)
			{
				document.getElementById("count_description").innerHTML = obj.value.length+'/'+500;
			}
		</script>
		<script type='text/javascript' src='https://code.jquery.com/jquery-1.11.0.js'></script>
		<script type='text/javascript' src="https://rawgit.com/RobinHerbots/jquery.inputmask/3.x/dist/jquery.inputmask.bundle.js"></script>
		<script type="text/javascript">
			$(document).ready(function(){
				$(":input").inputmask();
			});
		</script>
	</body>
</html>